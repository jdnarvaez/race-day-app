(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{463:function(t,e,o){(function(n){var i,s,r;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(h,c){"use strict";s=[],void 0===(r="function"==typeof(i=function(){var t,e,i="JSLOG_ME_POSTPONED_ITEMS",s=!1;return function(){function r(){this.enabled=!0,this.logUncaughtExceptions=!0,this.hookConsole=!0,this.trackHost=!0,this.collectSystemInfo=!0,this.trackLaunches=!0,this.key="",this.version="",this.sessionId=this.guid()}function h(){if(this.inOperation=!1,this.xmlHttpRequest=function(){try{return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}throw new Error("XMLHttpRequest not supported")}),new XMLHttpRequest}catch(t){return}}(),this.http=null,!this.xmlHttpRequest)try{this.http=o(482)}catch(t){this.http=null}}function c(){this.timePrefix=I()+"",this.counter=0,this.postponed={},this.postponedLength=0,this.postponedSize=0,this.lastItem=void 0,this.loadPostponedData()}function a(t,e){if("object"===("undefined"==typeof window?"undefined":p(window))&&window&&window.localStorage)try{window.localStorage[i+t]=e}catch(t){}}r.prototype.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),h.prototype.sendXmlHttpRequest=function(t,e,o,n,i){var s=this,r=this.xmlHttpRequest;this.inOperation=!0,r.open("POST",t+"//jslog.me/log",!0),r.timeout=1e4,r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),r.onreadystatechange=function(){4===r.readyState&&(s.inOperation=!1,200===r.status||400===r.status?n(e):i(e))};try{r.send(e)}catch(t){i(e)}},h.prototype.sendNodeJsHttpRequest=function(t,e,o,n,i){var s=this.http.request({host:"jslog.me",port:"80",path:"/log",method:"POST",headers:{"Content-Type":"application/json"}},(function(t){}));s.write(e),s.end()},h.prototype.sendPacket=function(t,e,o,n,i){!this.inOperation||o?this.xmlHttpRequest?this.sendXmlHttpRequest(t,e,o,n,i):this.http&&this.sendNodeJsHttpRequest(t,e,o,n,i):i(e)},c.prototype.loadPostponedData=function(){if("object"===("undefined"==typeof window?"undefined":p(window))&&window&&window.localStorage)try{this.postponed={},this.lastItem=void 0,this.postponedSize=0;var t=i.length,e=0;for(var o in window.localStorage)if(window.localStorage.hasOwnProperty(o)&&0===o.indexOf(i)){var n=o.substr(t);this.lastItem=n,this.postponed[n]=window.localStorage[o],this.postponedSize=this.postponedSize+this.postponed[n].length,e++}return this.postponedLength=e,e?this.postponed:void 0}catch(t){return}},c.prototype.add=function(t){function e(){r.counter++,r.lastItem=r.timePrefix+r.counter,r.postponed[r.lastItem]=t,r.postponedSize=r.postponedSize+t.length,a(r.lastItem,t)}var o,n,i,s,r=this;if(!(r.postponedSize>1048576))if(this.lastItem){var p=this.postponed[r.lastItem];if(p.length>5240)e();else{var h=(n=t,i=(o=p).match(w),s=n.match(w),i&&s&&i.length>1&&s.length>1?"["+i[1]+", "+s[1]+"]":i?o:s?n:"[]");r.postponed[r.lastItem]=h,a(r.lastItem,h),r.postponedSize=r.postponedSize+h.length-p.length}}else e()};var u,d,f,l,y,w=/^\s*\[\s*(.+)\s*\]\s*$/;function g(t,e,o,n){this.protocol=t,this.sender=e,this.queue=o,this.logger=n,this.start()}function m(t){this.options=new r,void 0!==t&&(this.options=this.parseOptions(t)),this.protocol="https:",this.systemInfoSent=!1,this._batchQueue=[],this._packetSize=0,this.senderService=new h,this.pendingSenderService=new g(this.protocol,this.senderService,O,this),this.init()}function v(t){var e="["+t._batchQueue.join(", ")+"]";return t._batchQueue=[],e}function S(t,e){return function(){return e.apply(t,arguments)}}function I(){return Date.now?Date.now():(new Date).getTime()}function b(t){t.systemInfoSent||t.systemInfo(t.options.collectSystemInfo)}function k(t){if(t instanceof Array){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(m.prototype.expand(t[o]));return e}return m.prototype.expand(t)}function x(t){var e={};return t?("undefined"!=typeof t.name&&(e.name=t.name),"undefined"!=typeof t.message&&(e.message=t.message),"undefined"!=typeof t.stack&&(e.stack=t.stack),"undefined"!=typeof t.fileName&&(e.fileName=t.fileName),"undefined"!=typeof t.lineNumber&&(e.lineNumber=t.lineNumber),"undefined"!=typeof t.columnNumber&&(e.columnNumber=t.columnNumber),"undefined"!=typeof t.description&&(e.description=t.description),e):e}c.prototype.haveItems=function(){return this.postponedLength},c.prototype.fetchItem=function(){if(this.postponedLength)for(var t in this.postponed)if(this.postponed.hasOwnProperty(t))return{key:t,value:this.postponed[t]}},c.prototype.deleteItem=function(t){if(this.postponedLength--,this.postponedSize=this.postponedSize-this.postponed[t].length,delete this.postponed[t],"object"===("undefined"==typeof window?"undefined":p(window))&&window&&window.localStorage)try{delete window.localStorage[i+t]}catch(t){}this.lastItem===t&&(this.lastItem=void 0)},g.prototype.sendPendingItem=function(){if(!this.sender.inOperation&&this.queue.haveItems()){var t=this.queue.fetchItem(),e=this;if(t){var o=t.key,n=t.value;this.sender.sendPacket(this.protocol,n,!1,(function(){e.queue.deleteItem(o),e.sendPendingItem()}),(function(){!function(t){if(t._batchQueue.length){var e=v(t);t.postpone(e)}}(e.logger)}))}}},g.prototype.start=function(){if(!this.handle){var t=this;this.handle=setInterval((function(){t.sendPendingItem()}),1e4)}},g.prototype.stop=function(){this.handle&&(clearInterval(this.handle),this.handle=void 0)},m.prototype.renewSession=function(){this.options.sessionId=this.options.guid(),this.systemInfoSent=!1},m.prototype.parseOptions=function(t){var e=new r;for(var o in t)t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(e[o]=t[o]);return e},m.prototype.sendToServer=function(t,o,n){if(this.options.enabled){n instanceof Error&&(n=x(n));var i={key:t,sessionId:this.options.sessionId,hostId:e,time:I(),type:o,data:n},s=JSON.stringify(i);!function t(e,o,n,i){if(i=!!i,function(t){for(var e=0,o=0;o<t._batchQueue.length;o++)e+=t._batchQueue[o].length;return e}(o)>4194304){var s=v(o);o.postpone(s)}if(n&&function(t,e){t._batchQueue.push(e)}(o,n),(!o.senderService.inOperation||i)&&o._batchQueue.length){var r=v(o);o.senderService.sendPacket(e,r,i,(function(){t(e,o,void 0,!1)}),(function(){o.postpone(r),t(e,o,void 0,!1)}))}}(this.protocol,this,s)}},m.prototype.postpone=function(t){O.add(t)},m.prototype.log=function(){try{b(this);var t=arguments.length>1?arguments:arguments[0];this.sendToServer(this.options.key,"log",t),"function"==typeof u&&u.apply(console,arguments)}catch(t){}},m.prototype.expand=function(t){var e=[];return function t(o){if("object"!==p(o)||null===o)return o;var n={},i=Object.getOwnPropertyNames(o).sort();for(var s in e.push(o),i)if(i.hasOwnProperty(s)){var r=i[s],h=o[r];if("undefined"==typeof h||"function"==typeof h)continue;e.indexOf(h)>=0&&(h="<circular ref>"),n[r]=t(h)}return e.pop(),n}(t)},m.prototype.info=function(){try{b(this);var t=arguments.length>1?arguments:arguments[0];this.sendToServer(this.options.key,"info",t),"function"==typeof l&&l.apply(console,arguments)}catch(t){}},m.prototype.warn=function(){try{b(this);var t=arguments.length>1?arguments:arguments[0];this.sendToServer(this.options.key,"warn",t),"function"==typeof d&&d.apply(console,arguments)}catch(t){}},m.prototype.error=function(){try{b(this);var t=arguments.length>1?arguments:arguments[0];this.sendToServer(this.options.key,"error",k(t)),"function"==typeof f&&f.apply(console,arguments)}catch(t){}},m.prototype.exception=function(t){try{b(this);var e=arguments.length>1?arguments:arguments[0];this.sendToServer(this.options.key,"exception",k(e)),"function"==typeof y&&y.apply(console,arguments)}catch(t){}},m.prototype.systemInfo=function(t){try{var e={};t&&"object"===("undefined"==typeof navigator?"undefined":p(navigator))?(e.userAgent=navigator.userAgent,e.platform=navigator.platform,e.version=this.options.version):(e.userAgent="",e.platform="",e.version=this.options.version),this.systemInfoSent=!0,this.sendToServer(this.options.key,"systemInfo",e)}catch(t){}},m.prototype.init=function(){this.options.enabled&&(this.pendingSenderService.sendPendingItem(),this.options.trackHost&&this.trackHost(),this.options.hookConsole&&this.hookConsole(),this.options.logUncaughtExceptions&&this.hookUncaughtExceptions(),this.options.trackLaunches&&this.systemInfo(this.options.collectSystemInfo))},m.prototype.trackHost=function(){if(!e)if("object"===("undefined"==typeof window?"undefined":p(window))&&"localStorage"in window&&null!==window.localStorage){try{e=window.localStorage.getItem("JsLogToken")}catch(t){e=null}if(!e){e=r.prototype.guid();try{window.localStorage.setItem("JsLogToken",e)}catch(t){}}}else e=r.prototype.guid()},m.prototype.hookConsole=function(){s||("undefined"!=typeof console?(u=console.log,d=console.warn,f=console.error,l=console.info,y=console.exception,console.log=S(this,this.log),console.warn=S(this,this.warn),console.error=S(this,this.error),console.info=S(this,this.info),console.exception=S(this,this.exception)):console={log:S(this,this.log),warn:S(this,this.warn),error:S(this,this.error),info:S(this,this.info),exception:S(this,this.exception)},s=!0)},m.prototype.hookUncaughtExceptions=function(){"undefined"!=typeof window&&(window.onerror=S(this,this.windowErrorHandler)),"undefined"!=typeof n&&n.on("uncaughtException",S(this,this.windowErrorHandler))},m.prototype.windowErrorHandler=function(t,e,o,n,i){if(this.options.enabled)try{i?this.sendToServer(this.options.key,"uncaughtException",{msg:t,url:e,line:o,column:n,errorObj:x(i)}):this.sendToServer(this.options.key,"uncaughtException",x(t))}catch(t){}};var O=new c;"undefined"!=typeof window&&(window.JsLog=window.JsLog||m),t=m}(),t})?i.apply(e,s):i)||(t.exports=r)}(0,o(501))}).call(this,o(114))},486:function(t,e){},488:function(t,e){}}]);